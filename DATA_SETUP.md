# Data Setup Guide

This guide explains how to set up the database with initial data after cloning the repository.

## Quick Start

After cloning the repository and setting up your environment:

1. **Run database migrations** to create the schema:
   ```bash
   python manage.py migrate
   ```

2. **Load the initial data** from the export file:
   ```bash
   python manage.py loaddata initial_data.json
   ```

3. **Create a superuser** (if you need admin access):
   ```bash
   python manage.py createsuperuser
   ```

That's it! Your database should now be populated with the initial data.

## What's Included

The `initial_data.json` file contains:
- User accounts and profiles
- PC configurations and statuses
- Colleges and courses
- Any other application data

**Note:** The export excludes:
- `auth.permission` (auto-generated by Django)
- `contenttypes` (auto-generated by Django)

## Updating the Export File

If you need to update the `initial_data.json` file with new data:

1. **Export current data:**
   ```bash
   python export_data.py
   ```
   
   Or manually:
   ```bash
   python manage.py dumpdata --natural-foreign --natural-primary --exclude auth.permission --exclude contenttypes --indent 2 -o initial_data.json
   ```

2. **Commit the updated file** to the repository.

## Troubleshooting

### Issue: "No such file or directory"
- Make sure you're in the project root directory
- Verify that `initial_data.json` exists in the project root

### Issue: "Database connection error"
- Make sure your database is configured correctly in `PCheckMain/settings.py`
- Ensure your database server is running
- Run migrations first: `python manage.py migrate`

### Issue: "IntegrityError" or duplicate key errors
- This usually means data already exists in the database
- You may need to flush the database first (⚠️ **WARNING**: This deletes all data):
  ```bash
  python manage.py flush
  python manage.py loaddata initial_data.json
  ```

